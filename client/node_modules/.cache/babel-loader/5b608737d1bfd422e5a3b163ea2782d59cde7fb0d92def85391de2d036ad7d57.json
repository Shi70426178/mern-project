{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import styles from'./SellPremium.module.css';import UserProducts from'./UserProducts';// Import the UserProducts component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SellPremium=_ref=>{let{username}=_ref;const[name,setName]=useState('');const[description,setDescription]=useState('');const[price,setPrice]=useState('');// Add price state\nconst[file,setFile]=useState(null);const[message,setMessage]=useState('');const[showManageProducts,setShowManageProducts]=useState(false);// State to show/hide manage products section\nconst navigate=useNavigate();const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('name',name);formData.append('description',description);formData.append('price',price);// Add price to formData\nformData.append('file',file);formData.append('username',username);// Ensure username is added\nformData.append('isPremium',true);// Mark the product as premium\ntry{const res=await axios.post('https://mern-project-5-xoai.onrender.com/api/products/premium',formData,{headers:{'Content-Type':'multipart/form-data'}});setMessage('Premium product listed successfully');setName('');setDescription('');setPrice('');// Reset price\nsetFile(null);console.log('Premium product listed successfully:',res.data);}catch(err){console.error('Error listing premium product:',err);setMessage('Error listing premium product');}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sell Your Premium Product\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Product Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:description,onChange:e=>setDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"price\",value:price,onChange:e=>setPrice(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Upload File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",onChange:handleFileChange,accept:\".zip,.rar,.7z,.doc,.docx,.pdf\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"List Premium Product\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManageProducts(!showManageProducts),className:styles.manageButton,children:showManageProducts?'Hide Manage Products':'Manage My Products'}),showManageProducts&&/*#__PURE__*/_jsx(UserProducts,{})]});};export default SellPremium;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","styles","UserProducts","jsx","_jsx","jsxs","_jsxs","SellPremium","_ref","username","name","setName","description","setDescription","price","setPrice","file","setFile","message","setMessage","showManageProducts","setShowManageProducts","navigate","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","res","post","headers","console","log","data","err","error","className","container","children","onSubmit","form","htmlFor","type","id","value","onChange","required","accept","onClick","manageButton"],"sources":["C:/mern-project/client/src/components/SellPremium.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from './SellPremium.module.css';\r\nimport UserProducts from './UserProducts'; // Import the UserProducts component\r\n\r\nconst SellPremium = ({ username }) => {\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [price, setPrice] = useState(''); // Add price state\r\n    const [file, setFile] = useState(null);\r\n    const [message, setMessage] = useState('');\r\n    const [showManageProducts, setShowManageProducts] = useState(false); // State to show/hide manage products section\r\n    const navigate = useNavigate();\r\n\r\n    const handleFileChange = (e) => {\r\n        setFile(e.target.files[0]);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('name', name);\r\n        formData.append('description', description);\r\n        formData.append('price', price); // Add price to formData\r\n        formData.append('file', file);\r\n        formData.append('username', username); // Ensure username is added\r\n        formData.append('isPremium', true); // Mark the product as premium\r\n\r\n        try {\r\n            const res = await axios.post('https://mern-project-5-xoai.onrender.com/api/products/premium', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n            setMessage('Premium product listed successfully');\r\n            setName('');\r\n            setDescription('');\r\n            setPrice(''); // Reset price\r\n            setFile(null);\r\n            console.log('Premium product listed successfully:', res.data);\r\n        } catch (err) {\r\n            console.error('Error listing premium product:', err);\r\n            setMessage('Error listing premium product');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <h2>Sell Your Premium Product</h2>\r\n            {message && <p>{message}</p>}\r\n            <form onSubmit={handleSubmit} className={styles.form}>\r\n                <div>\r\n                    <label htmlFor=\"name\">Product Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        value={name}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"description\">Product Description</label>\r\n                    <textarea\r\n                        id=\"description\"\r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        required\r\n                    ></textarea>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"price\">Product Price</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"price\"\r\n                        value={price}\r\n                        onChange={(e) => setPrice(e.target.value)}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"file\">Upload File</label>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"file\"\r\n                        onChange={handleFileChange}\r\n                        accept=\".zip,.rar,.7z,.doc,.docx,.pdf\"\r\n                        required\r\n                    />\r\n                </div>\r\n                <button type=\"submit\">List Premium Product</button>\r\n            </form>\r\n            <button onClick={() => setShowManageProducts(!showManageProducts)} className={styles.manageButton}>\r\n                {showManageProducts ? 'Hide Manage Products' : 'Manage My Products'}\r\n            </button>\r\n            {showManageProducts && <UserProducts />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SellPremium;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}