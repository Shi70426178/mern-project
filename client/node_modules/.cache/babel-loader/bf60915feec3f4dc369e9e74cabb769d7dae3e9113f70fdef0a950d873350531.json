{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import styles from'./UserUploads.module.css';import Navigation from'./Navigation';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserUploads=_ref=>{let{username}=_ref;const[uploads,setUploads]=useState([]);const[message,setMessage]=useState('');useEffect(()=>{const fetchUploads=async()=>{try{const res=await axios.get(\"http://localhost:5000/api/products?username=\".concat(username));if(Array.isArray(res.data)){setUploads(res.data);}else{console.error('Unexpected response data:',res.data);}console.log('Uploads fetched successfully:',res.data);}catch(err){console.error('Error fetching uploads:',err);setMessage('Error fetching uploads');}};fetchUploads();},[username]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your Uploads\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:message}),/*#__PURE__*/_jsx(\"div\",{className:styles.uploadGrid,children:uploads.length>0?uploads.map(upload=>/*#__PURE__*/_jsxs(\"div\",{className:styles.uploadCard,children:[/*#__PURE__*/_jsx(\"h3\",{children:upload.name}),/*#__PURE__*/_jsx(\"p\",{children:upload.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Likes: \",upload.likes]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.commentsSection,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Comments:\"}),upload.comments.length>0?upload.comments.map((comment,index)=>/*#__PURE__*/_jsx(\"p\",{children:comment},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No comments yet.\"})]})]},upload._id)):/*#__PURE__*/_jsx(\"p\",{children:\"No uploads found\"})})]});};export default UserUploads;","map":{"version":3,"names":["React","useEffect","useState","axios","styles","Navigation","jsx","_jsx","jsxs","_jsxs","UserUploads","_ref","username","uploads","setUploads","message","setMessage","fetchUploads","res","get","concat","Array","isArray","data","console","error","log","err","className","container","children","uploadGrid","length","map","upload","uploadCard","name","description","likes","commentsSection","comments","comment","index","_id"],"sources":["C:/mern-project/client/src/components/UserUploads.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './UserUploads.module.css';\r\nimport Navigation from './Navigation';\r\n\r\nconst UserUploads = ({ username }) => {\r\n    const [uploads, setUploads] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchUploads = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:5000/api/products?username=${username}`);\r\n                if (Array.isArray(res.data)) {\r\n                    setUploads(res.data);\r\n                } else {\r\n                    console.error('Unexpected response data:', res.data);\r\n                }\r\n                console.log('Uploads fetched successfully:', res.data);\r\n            } catch (err) {\r\n                console.error('Error fetching uploads:', err);\r\n                setMessage('Error fetching uploads');\r\n            }\r\n        };\r\n        fetchUploads();\r\n    }, [username]);\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <Navigation />\r\n            <h2>Your Uploads</h2>\r\n            {message && <p className={styles.error}>{message}</p>}\r\n            <div className={styles.uploadGrid}>\r\n                {uploads.length > 0 ? (\r\n                    uploads.map(upload => (\r\n                        <div key={upload._id} className={styles.uploadCard}>\r\n                            <h3>{upload.name}</h3>\r\n                            <p>{upload.description}</p>\r\n                            <p>Likes: {upload.likes}</p>\r\n                            <div className={styles.commentsSection}>\r\n                                <h4>Comments:</h4>\r\n                                {upload.comments.length > 0 ? upload.comments.map((comment, index) => (\r\n                                    <p key={index}>{comment}</p>\r\n                                )) : <p>No comments yet.</p>}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <p>No uploads found</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserUploads;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}